(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0bf7"],{"0tVQ":function(e,t,l){l("FlQf"),l("VJsP"),e.exports=l("WEpk").Array.from},"8FlQ":function(e,t,l){"use strict";var r=l("Fin+");l.n(r).a},"Fin+":function(e,t,l){},IP1Z:function(e,t,l){"use strict";var r=l("2faE"),o=l("rr1i");e.exports=function(e,t,l){t in e?r.f(e,t,o(0,l)):e[t]=l}},VJsP:function(e,t,l){"use strict";var r=l("2GTP"),o=l("Y7ZC"),a=l("JB68"),s=l("sNwI"),i=l("NwJ3"),n=l("tEej"),c=l("IP1Z"),u=l("fNZA");o(o.S+o.F*!l("TuGD")(function(e){Array.from(e)}),"Array",{from:function(e){var t,l,o,m,d=a(e),p="function"==typeof this?this:Array,f=arguments.length,b=f>1?arguments[1]:void 0,v=void 0!==b,_=0,h=u(d);if(v&&(b=r(b,f>2?arguments[2]:void 0,2)),void 0==h||p==Array&&i(h))for(l=new p(t=n(d.length));t>_;_++)c(l,_,v?b(d[_],_):d[_]);else for(m=h.call(d),l=new p;!(o=m.next()).done;_++)c(l,_,v?s(m,b,[o.value,_],!0):o.value);return l.length=_,l}})},lAbF:function(e,t,l){"use strict";l.r(t);var r=l("m1cH"),o=l.n(r),a=l("QbLZ"),s=l.n(a),i=l("L2JU"),n=l("t3Un");var c={name:"Dashboard",data:function(){return{dialogVisible:!1,loading:!1,tempClassName:"1x",initParams:{seasons:[{value:"2018-2019",label:"2018-2019赛季"}],sclasses:[{value:-1,label:"全部联赛"}],homeScores:["全部"],guestScores:["全部"],firstGoals:["全部"],midGoals:["全部"]},resultForm:[],detailForm:[],ruleForm:{season:"2018-2019",sclass:-1,homeScore:"全部",guestScore:"全部",firstGoal:"全部",midGoal:"全部"},rules:{}}},computed:s()({},Object(i.b)(["name","roles"])),mounted:function(){var e=this;Object(n.a)({url:"/getSeasons",method:"post",param:{}}).then(function(t){e.initParams.homeScores=[].concat(o()(e.initParams.homeScores),o()(t.homeHalfScores)),e.ruleForm.homeScore=e.initParams.homeScores[0],e.initParams.guestScores=[].concat(o()(e.initParams.guestScores),o()(t.guestHalfScores)),e.ruleForm.guestScore=e.initParams.guestScores[0],e.initParams.firstGoals=[].concat(o()(e.initParams.firstGoals),o()(t.firstGoals)),e.ruleForm.firstGoal=e.initParams.firstGoals[0],e.initParams.midGoals=[].concat(o()(e.initParams.midGoals),o()(t.goals)),e.ruleForm.midGoal=e.initParams.midGoals[0],e.initParams.sclasses=[].concat(o()(e.initParams.sclasses),o()(t.seasons)),e.ruleForm.sclasses=e.initParams.sclasses[0]})},methods:{handleDownloadFile:function(e){location.href="./static/S5.csv"},getDetail:function(e,t,l){var r=this;this.dialogVisible=!0;var o={};o.sclass=e.classId,"全部"!==this.ruleForm.homeScore&&(o.homeScore=this.ruleForm.homeScore),"全部"!==this.ruleForm.guestScore&&(o.guestScore=this.ruleForm.guestScore),"全部"!==this.ruleForm.firstGoal&&(o.firstGoal=this.ruleForm.firstGoal),"全部"!==this.ruleForm.midGoal&&(o.goal=this.ruleForm.midGoal),this.tempClassName=e.className,console.log(e.className),function(e){return Object(n.a)({url:"/getTotalScoreDetail",method:"post",data:e})}(o).then(function(e){r.detailForm=e.resultList})},getStatistic:function(){var e=this;this.loading=!0;var t={};-1!==this.ruleForm.sclass&&(t.sclass=this.ruleForm.sclass),"全部"!==this.ruleForm.homeScore&&(t.homeScore=this.ruleForm.homeScore),"全部"!==this.ruleForm.guestScore&&(t.guestScore=this.ruleForm.guestScore),"全部"!==this.ruleForm.firstGoal&&(t.firstGoal=this.ruleForm.firstGoal),"全部"!==this.ruleForm.midGoal&&(t.goal=this.ruleForm.midGoal),function(e){return Object(n.a)({url:"/getTotalScoreStatistic",method:"post",data:e})}(t).then(function(t){e.resultForm=t.resultList,e.loading=!1})},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.loading=!0,setTimeout(function(e){t.loading=!1,t.dialogVisible=!0},3e3)})},resetForm:function(e){this.$refs[e].resetFields()},handleClose:function(e){this.$confirm("确认关闭？").then(function(t){e()}).catch(function(e){})}}},u=(l("8FlQ"),l("KHd+")),m=Object(u.a)(c,function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"dashboard-container"},[l("el-row",{staticStyle:{"margin-bottom":"0.5em"},attrs:{gutter:20}},[l("el-col",{attrs:{span:4}},[l("span",[e._v("赛季")])]),e._v(" "),l("el-col",{attrs:{span:4}},[l("span",[e._v("联赛")])])],1),e._v(" "),l("el-row",{staticStyle:{"margin-bottom":"1em"},attrs:{gutter:20}},[l("el-col",{attrs:{span:4}},[l("el-select",{attrs:{size:"medium",disabled:"",placeholder:"请选择赛季"},model:{value:e.ruleForm.season,callback:function(t){e.$set(e.ruleForm,"season",t)},expression:"ruleForm.season"}},e._l(e.initParams.seasons,function(e){return l("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}))],1),e._v(" "),l("el-col",{attrs:{span:4}},[l("el-select",{attrs:{size:"medium",placeholder:"请选择联赛"},model:{value:e.ruleForm.sclass,callback:function(t){e.$set(e.ruleForm,"sclass",t)},expression:"ruleForm.sclass"}},e._l(e.initParams.sclasses,function(e){return l("el-option",{key:e.value,attrs:{value:e.value,label:e.label.trim()}})}))],1)],1),e._v(" "),l("el-row",{staticStyle:{"margin-bottom":"0.5em"},attrs:{gutter:20}},[l("el-col",{attrs:{span:4}},[l("span",[e._v("主队半场得分")])]),e._v(" "),l("el-col",{attrs:{span:4}},[l("span",[e._v("客队半场得分")])]),e._v(" "),l("el-col",{attrs:{span:4}},[l("span",[e._v("初盘盘口")])]),e._v(" "),l("el-col",{attrs:{span:4}},[l("span",[e._v("中场盘口")])])],1),e._v(" "),l("el-row",{staticStyle:{"margin-bottom":"1em"},attrs:{gutter:20}},[l("el-col",{attrs:{span:4}},[l("el-select",{attrs:{size:"medium",placeholder:"请选择主队半场得分"},model:{value:e.ruleForm.homeScore,callback:function(t){e.$set(e.ruleForm,"homeScore",t)},expression:"ruleForm.homeScore"}},e._l(e.initParams.homeScores,function(e){return l("el-option",{key:e,attrs:{value:e,label:e}})}))],1),e._v(" "),l("el-col",{attrs:{span:4}},[l("el-select",{attrs:{size:"medium",placeholder:"请选择客队半场得分"},model:{value:e.ruleForm.guestScore,callback:function(t){e.$set(e.ruleForm,"guestScore",t)},expression:"ruleForm.guestScore"}},e._l(e.initParams.guestScores,function(e){return l("el-option",{key:e,attrs:{value:e,label:e}})}))],1),e._v(" "),l("el-col",{attrs:{span:4}},[l("el-select",{attrs:{size:"medium",placeholder:"请选择初盘盘口"},model:{value:e.ruleForm.firstGoal,callback:function(t){e.$set(e.ruleForm,"firstGoal",t)},expression:"ruleForm.firstGoal"}},e._l(e.initParams.firstGoals,function(e){return l("el-option",{key:e,attrs:{value:e,label:e}})}))],1),e._v(" "),l("el-col",{attrs:{span:4}},[l("el-select",{attrs:{size:"medium",placeholder:"请选择中场盘口"},model:{value:e.ruleForm.midGoal,callback:function(t){e.$set(e.ruleForm,"midGoal",t)},expression:"ruleForm.midGoal"}},e._l(e.initParams.midGoals,function(e){return l("el-option",{key:e,attrs:{value:e,label:e}})}))],1),e._v(" "),l("el-col",{attrs:{span:4}},[l("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.getStatistic}},[e._v("查询")])],1)],1),e._v(" "),l("el-row",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{"margin-bottom":"1em"},attrs:{"element-loading-text":"查询中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(255, 255, 255, 0.8)"}},[l("el-table",{attrs:{data:e.resultForm,border:""},on:{"row-dblclick":e.getDetail}},[l("el-table-column",{attrs:{prop:"className",label:"联赛名称"}}),e._v(" "),l("el-table-column",{attrs:{prop:"total",sortable:"",label:"满足条件场次"}}),e._v(" "),l("el-table-column",{attrs:{prop:"result",sortable:"",label:"赢球场次"}}),e._v(" "),l("el-table-column",{attrs:{prop:"winRate",sortable:"",label:"赢球率"},scopedSlots:e._u([{key:"default",fn:function(e){return[l("el-progress",{attrs:{"stroke-width":6,percentage:Math.round(100*e.row.winRate).toFixed(2)}})]}}])}),e._v(" "),l("el-table-column",{attrs:{prop:"rate",sortable:"",label:"盈利率"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.rate>=1?l("el-progress",{attrs:{"stroke-width":6,percentage:(t.row.rate/2.08*100).toFixed(2),"show-text":!1}}):e._e(),e._v(" "),t.row.rate>=1?l("span",[e._v(e._s(Math.round(100*t.row.rate).toFixed(2)+"%"))]):e._e(),e._v(" "),t.row.rate<1?l("el-progress",{attrs:{percentage:(100*(1-t.row.rate)).toFixed(2),"stroke-width":6,"show-text":!1,color:"#FF0000"}}):e._e(),e._v(" "),t.row.rate<1?l("span",[e._v(e._s(Math.round(100*(1-t.row.rate)).toFixed(2)+"%"))]):e._e()]}}])})],1)],1),e._v(" "),l("el-dialog",{attrs:{visible:e.dialogVisible,"before-close":e.handleClose,title:"明细",width:"80%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[l("el-table",{attrs:{data:e.detailForm,border:""}},[l("el-table-column",{attrs:{prop:"match_season",label:"赛季"}}),e._v(" "),l("el-table-column",{attrs:{label:"联赛"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("p",[e._v(" "+e._s(e.tempClassName)+" ")])]}}])}),e._v(" "),l("el-table-column",{attrs:{prop:"home_score",sortable:"",label:"终场得分（主）"}}),e._v(" "),l("el-table-column",{attrs:{prop:"guest_score",sortable:"",label:"终场得分（客）"}}),e._v(" "),l("el-table-column",{attrs:{prop:"home_half_score",sortable:"",label:"中场得分（主）"}}),e._v(" "),l("el-table-column",{attrs:{prop:"guest_half_score",sortable:"",label:"中场得分（客）"}}),e._v(" "),l("el-table-column",{attrs:{prop:"first_goal",sortable:"",label:"初始盘口"}}),e._v(" "),l("el-table-column",{attrs:{prop:"goal",sortable:"",label:"中场盘口"}}),e._v(" "),l("el-table-column",{attrs:{prop:"first_up_odds",sortable:"",label:"初始上水"}}),e._v(" "),l("el-table-column",{attrs:{prop:"first_down_odds",sortable:"",label:"初始下水"}}),e._v(" "),l("el-table-column",{attrs:{prop:"up_odds",sortable:"",label:"中场上水"}}),e._v(" "),l("el-table-column",{attrs:{prop:"down_odds",sortable:"",label:"中场下水"}}),e._v(" "),l("el-table-column",{attrs:{sortable:"",label:"结果"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.score>t.row.goal?l("p",[e._v("大")]):e._e(),e._v(" "),t.row.score===t.row.goal?l("p",[e._v("平")]):e._e(),e._v(" "),t.row.score<t.row.goal?l("p",[e._v("小")]):e._e()]}}])})],1)],1)],1)},[],!1,null,"c5d40390",null);m.options.__file="index.vue";t.default=m.exports},m1cH:function(e,t,l){"use strict";t.__esModule=!0;var r=function(e){return e&&e.__esModule?e:{default:e}}(l("rfXi"));t.default=function(e){if(Array.isArray(e)){for(var t=0,l=Array(e.length);t<e.length;t++)l[t]=e[t];return l}return(0,r.default)(e)}},rfXi:function(e,t,l){e.exports={default:l("0tVQ"),__esModule:!0}}}]);